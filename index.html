<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß¨ Dashboard Integrado de Gen√¥mica - Phyllosticta | BioGeMM - UFPR</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
  <header class="header">
    <div class="header-content">
        <img src="Biogemm-Photoroom.png" alt="Logo BioGeMM" class="logo">
        <div class="text-content">
            <h1>üß¨ Dashboard Integrado de Gen√¥mica - Phyllosticta</h1>
            <p class="description">
                Plataforma interativa para <strong>visualiza√ß√£o, an√°lise e compara√ß√£o de dados gen√¥micos</strong> 
                das esp√©cies de <em>Phyllosticta</em> associadas a citrus (Cepas-Tipo).
                <br><br>
                O sistema permite <strong>upload de arquivos</strong>, integra√ß√£o com o <strong>NCBI</strong> 
                e utiliza√ß√£o de dados do 
                <strong>Laborat√≥rio de Bioprospec√ß√£o e Gen√©tica Molecular de Microrganismos - BioGeMM (UFPR)</strong>.
            </p>
            <p class="author">
                Desenvolvido por <strong>Murilo Gabriel da Silva</strong>  
                (<a href="mailto:murilo.gabriel@ufpr.br">murilo.gabriel@ufpr.br</a>)
            </p>
        </div>
    </div>
</header>


        
        <div class="dashboard">
            <div class="filters">
                <div class="filter-group">
                    <h3>Filtros</h3>
                    <label class="filter-label" for="species-filter">ü¶† Esp√©cie:</label>
                    <select id="species-filter" multiple size="6">
                        <option value="all" selected>Todas</option>
                        <option value="P. capitalensis">P. capitalensis</option>
                        <option value="P. citriasiana">P. citriasiana</option>
                        <option value="P. citribraziliensis">P. citribraziliensis</option>
                        <option value="P. citricarpa">P. citricarpa</option>
                        <option value="P. citrichinaensis">P. citrichinaensis</option>
                        <option value="P. paracitricarpa">P. paracitricarpa</option>
                    </select>
                    
                    <label class="filter-label" for="lifestyle-filter">üß™ Estilo de Vida:</label>
                    <select id="lifestyle-filter">
                        <option value="all">Todos</option>
                        <option value="Pat√≥geno">Pat√≥geno</option>
                        <option value="End√≥fito">End√≥fito</option>
                    </select>
                    
                    <label class="filter-label" for="origin-filter">üåç Origem:</label>
                    <select id="origin-filter">
                        <option value="all">Todas</option>
                        <option value="Brasil">Brasil</option>
                        <option value="China">China</option>
                        <option value="Tail√¢ndia">Tail√¢ndia</option>
                        <option value="Austr√°lia">Austr√°lia</option>
                        <option value="Gr√©cia">Gr√©cia</option>
                        <option value="Rep√∫blica Dominicana">Rep√∫blica Dominicana</option>
                        <option value="Indon√©sia">Indon√©sia</option>
                        <option value="Nova Zel√¢ndia">Nova Zel√¢ndia</option>
                        <option value="Vietn√£">Vietn√£</option>
                        <option value="Zimb√°bue">Zimb√°bue</option>
                        <option value="√Åfrica do Sul">√Åfrica do Sul</option>
                        <option value="EUA">EUA</option>
                        <option value="Portugal">Portugal</option>
                        <option value="Argentina">Argentina</option>
                        <option value="Malta">Malta</option>
                        <option value="Outros">Outros Pa√≠ses</option>
                        <option value="Uploaded">Uploaded</option>
                        <option value="NCBI">NCBI</option>
                    </select>
                    
                    <label class="filter-label" for="gene-filter">üß¨ Genes M√≠nimos:</label>
                    <input type="range" id="gene-filter" min="9000" max="11000" value="9000" step="100">
                    <span id="gene-value">9000</span>
                    
                    <button id="apply-filters"><i class="fas fa-filter"></i> Aplicar Filtros</button>
                    <button id="reset-filters" class="reset"><i class="fas fa-refresh"></i> Limpar Filtros</button>
                </div>
                
                <div class="filter-group">
                    <h3>Compara√ß√£o</h3>
                    <label class="filter-label" for="compare-1">üìä Comparar Esp√©cie 1:</label>
                    <select id="compare-1">
                        <option value="P. capitalensis">P. capitalensis</option>
                        <option value="P. citriasiana">P. citriasiana</option>
                        <option value="P. citribraziliensis">P. citribraziliensis</option>
                        <option value="P. citricarpa">P. citricarpa</option>
                        <option value="P. citrichinaensis">P. citrichinaensis</option>
                        <option value="P. paracitricarpa">P. paracitricarpa</option>
                    </select>
                    
                    <label class="filter-label" for="compare-2">üìà Comparar Esp√©cie 2:</label>
                    <select id="compare-2">
                        <option value="P. citricarpa">P. citricarpa</option>
                        <option value="P. capitalensis">P. capitalensis</option>
                        <option value="P. citriasiana">P. citriasiana</option>
                        <option value="P. citribraziliensis">P. citribraziliensis</option>
                        <option value="P. citrichinaensis">P. citrichinaensis</option>
                        <option value="P. paracitricarpa">P. paracitricarpa</option>
                    </select>
                    
                    <div class="compare-buttons">
                        <button id="compare-button"><i class="fas fa-balance-scale"></i> Comparar</button>
                        <button id="compare-reset" class="reset"><i class="fas fa-times"></i> Limpar</button>
                    </div>
                </div>
            </div>
            
            <div class="content">
                <div class="summary-cards">
                    <div class="card">
                        <h3>ü¶† Total de Esp√©cies</h3>
                        <div class="value" id="total-species">6</div>
                        <div class="subtext">Esp√©cies analisadas</div>
                    </div>
                    <div class="card">
                        <h3>üß™ Total de Linhagens</h3>
                        <div class="value" id="total-strains">35</div>
                        <div class="subtext">Linhagens catalogadas</div>
                    </div>
                    <div class="card">
                        <h3>üß¨ M√©dia de Genes</h3>
                        <div class="value" id="avg-genes">9,672</div>
                        <div class="subtext">Por linhagem</div>
                    </div>
                    <div class="card">
                        <h3>üî¨ Prote√≠nas Secretadas</h3>
                        <div class="value" id="avg-proteins">785</div>
                        <div class="subtext">M√©dia por linhagem</div>
                    </div>
                </div>
                
                <!-- Container de Abas Atualizado -->
                <div class="tab-container">
                    <div class="tab active" data-tab="genomics">
                        <i class="fas fa-dna"></i> Gen√¥mica
                    </div>
                    <div class="tab" data-tab="proteomics">
                        <i class="fas fa-atom"></i> Prote√¥mica
                    </div>
                    <div class="tab" data-tab="structure">
                        <i class="fas fa-chart-line"></i> Estrutura Gen√¥mica
                    </div>
                    <div class="tab" data-tab="upload">
                        <i class="fas fa-upload"></i> Carregar Dados
                    </div>
                    <div class="tab" data-tab="ncbi-search">
                        <i class="fas fa-database"></i> Buscar NCBI
                    </div>
                </div>

                <!-- Conte√∫do da Aba Gen√¥mica -->
                <div class="tab-content active" id="genomics-tab">
                    <div class="charts-container">
                        <div class="chart-box">
                            <h3 class="chart-title">üìè Tamanho do Genoma por Esp√©cie (Mb)</h3>
                            <canvas id="genome-size-chart"></canvas>
                        </div>
                        
                        <div class="chart-box">
                            <h3 class="chart-title">üß¨ Conte√∫do GC por Esp√©cie (%)</h3>
                            <canvas id="gc-content-chart"></canvas>
                        </div>
                        
                        <div class="chart-box">
                            <h3 class="chart-title">üî¨ Genes Previstos por Esp√©cie</h3>
                            <canvas id="genes-chart"></canvas>
                        </div>

                        <div class="chart-box">
                            <h3 class="chart-title">üîÑ Conte√∫do Repetitivo por Esp√©cie (%)</h3>
                            <canvas id="repetitive-content-chart"></canvas>
                        </div>

                        <div class="chart-box">
                            <h3 class="chart-title">‚ö° % de TEs Afetados por RIP</h3>
                            <canvas id="rip-affected-chart"></canvas>
                        </div>

                        <div class="chart-box">
                            <h3 class="chart-title">üìä N√∫mero de Contigs</h3>
                            <canvas id="contigs-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Conte√∫do da Aba Prote√¥mica -->
                <div class="tab-content" id="proteomics-tab">
                    <div class="charts-container">
                        <div class="chart-box">
                            <h3 class="chart-title">üî¨ Prote√≠nas Secretadas por Esp√©cie</h3>
                            <canvas id="secreted-proteins-chart"></canvas>
                        </div>

                        <div class="chart-box">
                            <h3 class="chart-title">üéØ Efetores por Esp√©cie</h3>
                            <canvas id="effectors-chart"></canvas>
                        </div>

                        <div class="chart-box">
                            <h3 class="chart-title">üß™ BGCs por Esp√©cie</h3>
                            <canvas id="bgcs-chart"></canvas>
                        </div>

                        <div class="chart-box">
                            <h3 class="chart-title">‚öôÔ∏è CAZymes por Esp√©cie</h3>
                            <canvas id="cazymes-chart"></canvas>
                        </div>

                        <div class="chart-box">
                            <h3 class="chart-title">üß¥ Lipases por Esp√©cie</h3>
                            <canvas id="lipases-chart"></canvas>
                        </div>

                        <div class="chart-box">
                            <h3 class="chart-title">‚úÇÔ∏è Proteases por Esp√©cie</h3>
                            <canvas id="proteases-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Conte√∫do da Aba Estrutura Gen√¥mica -->
                <div class="tab-content" id="structure-tab">
                    <div class="charts-container">
                        <div class="chart-box">
                            <h3 class="chart-title">üìà Compara√ß√£o de Tamanho de Genoma vs Genes</h3>
                            <canvas id="genome-comparison-chart"></canvas>
                        </div>
                        
                        <div class="chart-box">
                            <h3 class="chart-title">üìä Rela√ß√£o entre Genes e Prote√≠nas Secretadas</h3>
                            <canvas id="genes-vs-proteins-chart"></canvas>
                        </div>
                        
                        <div class="chart-box">
                            <h3 class="chart-title">üé® Distribui√ß√£o de Conte√∫do GC</h3>
                            <canvas id="gc-distribution-chart"></canvas>
                        </div>

                        <div class="chart-box">
                            <h3 class="chart-title">üéØ Rela√ß√£o entre Efetores e BGCs</h3>
                            <canvas id="effectors-vs-bgcs-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Conte√∫do da Aba Carregar Dados (APENAS upload de arquivos) -->
                <div class="tab-content" id="upload-tab">
                    <div class="upload-section">
                        <div class="upload-options">
                            <div class="upload-card">
                                <h3>üìÅ Carregar Genomas da Pasta</h3>
                                <p>Selecione uma pasta contendo arquivos FASTA para an√°lise autom√°tica</p>
                                
                                <div class="upload-controls">
                                    <label class="upload-label" for="genomes-folder-upload">
                                        <i class="fas fa-folder"></i> Selecionar Pasta
                                    </label>
                                    <input type="file" id="genomes-folder-upload" webkitdirectory directory multiple accept=".fasta,.fa,.fna" style="display: none;">
                                    
                                    <div class="upload-buttons">
                                        <button id="load-genomes" class="upload-btn">
                                            <i class="fas fa-upload"></i> Carregar Genomas
                                        </button>
                                        <button id="clear-genomes" class="reset-btn">
                                            <i class="fas fa-trash"></i> Limpar
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="folder-status" class="status-message">
                                    <i class="fas fa-info-circle"></i> Nenhuma pasta selecionada
                                </div>
                            </div>
                            
                            <div class="upload-info">
                                <h4>üìã Informa√ß√µes sobre o Carregamento</h4>
                                <ul>
                                    <li>‚úÖ Suporta arquivos .fasta, .fa, .fna</li>
                                    <li>üîç An√°lise autom√°tica de tamanho e conte√∫do GC</li>
                                    <li>üß¨ Estimativa de genes e prote√≠nas baseada em estat√≠sticas</li>
                                    <li>üìä Integra√ß√£o autom√°tica com gr√°ficos e filtros</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="loaded-genomes-display">
                            <h3 class="chart-title">üß¨ Genomas Carregados</h3>
                            <div id="loaded-genomes-table" class="genomes-table-container">
                                <div class="empty-state">
                                    <i class="fas fa-folder-open"></i>
                                    <p>Nenhum genoma carregado</p>
                                    <small>Carregue uma pasta com arquivos FASTA para ver os dados aqui</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Nova Aba: Buscar NCBI (CONTE√öDO SEPARADO) -->
                <div class="tab-content" id="ncbi-search-tab">
                    <div class="search-section">
                        <div class="search-main">
                            <div class="upload-card">
                                <h3>üîç Buscar no NCBI</h3>
                                <p>Busque por genomas no banco de dados do NCBI</p>
                                
                                <div class="search-controls">
                                    <input type="text" id="ncbi-search-term" placeholder="Ex: Phyllosticta citricarpa" 
                                           class="search-input">
                                    <button id="ncbi-search-btn" class="upload-btn">
                                        <i class="fas fa-search"></i> Buscar
                                    </button>
                                </div>
                                
                                <div id="ncbi-results" class="search-results">
                                    <div class="empty-state">
                                        <i class="fas fa-search"></i>
                                        <p>Digite um termo de busca para come√ßar</p>
                                    </div>
                                </div>
                                
                                <div id="ncbi-selected-result"></div>
                                
                                <div class="upload-buttons">
                                    <button id="ncbi-load-btn" class="upload-btn">
                                        <i class="fas fa-download"></i> Carregar Genoma Selecionado
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="search-info">
                            <h4>üìã Informa√ß√µes sobre a Busca NCBI</h4>
                            <ul>
                                <li>‚úÖ Acesso ao banco de dados do NCBI</li>
                                <li>üîç Busca por nome de organismo ou accession</li>
                                <li>üß¨ An√°lise autom√°tica de caracter√≠sticas gen√¥micas</li>
                                <li>üìä Integra√ß√£o imediata com os gr√°ficos</li>
                                <li>üíæ Dados salvos localmente durante a sess√£o</li>
                                <li>üåê Conex√£o com servidor local na porta 5000</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Tabela de Compara√ß√£o (comum a todas as abas) -->
                <div class="comparison-table">
                    <h3 class="chart-title">üìã Compara√ß√£o entre Esp√©cies</h3>
                    <div class="table-container">
                        <table id="comparison-table">
                            <thead>
                                <tr>
                                    <th>Caracter√≠stica</th>
                                    <th>P. capitalensis<br><span class="citation">CBS 128856<span class="citation-tooltip">Isolado no Brasil<br>Pat√≥geno de citrus</span></span></th>
                                    <th>P. citriasiana<br><span class="citation">CBS 120486<span class="citation-tooltip">Isolado na Tail√¢ndia<br>Pat√≥geno de citrus</span></span></th>
                                    <th>P. citribraziliensis<br><span class="citation">CBS 100098<span class="citation-tooltip">Isolado no Brasil<br>End√≥fito de citrus</span></span></th>
                                    <th>P. citricarpa<br><span class="citation">CBS 127454<span class="citation-tooltip">Isolado na Austr√°lia<br>Pat√≥geno de citrus</span></span></th>
                                    <th>P. citrichinaensis<br><span class="citation">CBS 130529<span class="citation-tooltip">Isolado na China<br>Pat√≥geno de citrus</span></span></th>
                                    <th>P. paracitricarpa<br><span class="citation">CBS 141357<span class="citation-tooltip">Isolado na Gr√©cia<br>Pat√≥geno de citrus</span></span></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Genes Previstos</strong></td>
                                    <td>9,977</td>
                                    <td>9,282</td>
                                    <td>9,574</td>
                                    <td>9,108</td>
                                    <td>9,131</td>
                                    <td>9,083</td>
                                </tr>
                                <tr>
                                    <td><strong>Prote√≠nas Secretadas</strong></td>
                                    <td>808</td>
                                    <td>752</td>
                                    <td>796</td>
                                    <td>738</td>
                                    <td>732</td>
                                    <td>727</td>
                                </tr>
                                <tr>
                                    <td><strong>Efetores</strong></td>
                                    <td>198</td>
                                    <td>178</td>
                                    <td>206</td>
                                    <td>179</td>
                                    <td>182</td>
                                    <td>178</td>
                                </tr>
                                <tr>
                                    <td><strong>BGCs</strong></td>
                                    <td>22</td>
                                    <td>23</td>
                                    <td>23</td>
                                    <td>23</td>
                                    <td>23</td>
                                    <td>21</td>
                                </tr>
                                <tr>
                                    <td><strong>CAZymes</strong></td>
                                    <td>285</td>
                                    <td>276</td>
                                    <td>279</td>
                                    <td>271</td>
                                    <td>271</td>
                                    <td>268</td>
                                </tr>
                                <tr>
                                    <td><strong>Lipases</strong></td>
                                    <td>156</td>
                                    <td>150</td>
                                    <td>151</td>
                                    <td>147</td>
                                    <td>148</td>
                                    <td>145</td>
                                </tr>
                                <tr>
                                    <td><strong>Proteases</strong></td>
                                    <td>303</td>
                                    <td>301</td>
                                    <td>303</td>
                                    <td>295</td>
                                    <td>296</td>
                                    <td>293</td>
                                </tr>
                                <tr>
                                    <td><strong>Tamanho do Genoma (Mb)</strong></td>
                                    <td>32.46</td>
                                    <td>32.70</td>
                                    <td>31.67</td>
                                    <td>28.95</td>
                                    <td>29.16</td>
                                    <td>29.53</td>
                                </tr>
                                <tr>
                                    <td><strong>N¬∫ de Contigs</strong></td>
                                    <td>14</td>
                                    <td>133</td>
                                    <td>32</td>
                                    <td>152</td>
                                    <td>25</td>
                                    <td>134</td>
                                </tr>
                                <tr>
                                    <td><strong>Conte√∫do GC (%)</strong></td>
                                    <td>54.58%</td>
                                    <td>51.56%</td>
                                    <td>54.17%</td>
                                    <td>54.60%</td>
                                    <td>55.07%</td>
                                    <td>54.35%</td>
                                </tr>
                                <tr>
                                    <td><strong>Conte√∫do Repetitivo (%)</strong></td>
                                    <td>1.54%</td>
                                    <td>8.32%</td>
                                    <td>6.00%</td>
                                    <td>1.30%</td>
                                    <td>2.99%</td>
                                    <td>2.45%</td>
                                </tr>
                                <tr>
                                    <td><strong>% de TEs Afetados por RIP</strong></td>
                                    <td>89.89%</td>
                                    <td>92.19%</td>
                                    <td>94.64%</td>
                                    <td>93.47%</td>
                                    <td>96.23%</td>
                                    <td>92.60%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Dashboard de an√°lise desenvolvido para visualiza√ß√£o de dados de esp√©cies de Phyllosticta</p>
            <p>Dados obtidos de m√∫ltiplos estudos e conjuntos de dados gen√¥micos</p>
        </footer>
    </div>

    <script src="data/species-data.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/filters.js"></script>
    <script src="js/upload.js"></script>
    <script src="js/comparison.js"></script>
    <script src="js/editable-table.js"></script>
    <script src="js/ncbi-search.js"></script>
    <script src="js/main.js"></script>
        <head>
         <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
        <script src="https://unpkg.com/@sgratzl/chartjs-chart-boxplot@4.0.0/build/index.umd.min.js"></script>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    </head>
</body>
</html>
